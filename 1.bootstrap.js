(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(n,e,t){"use strict";t.r(e);var r=t(2);function o(n){const e=getComputedStyle(document.documentElement).getPropertyValue("--scale-ratio");return{mouseDownHandler:t=>n.handle_mouse_down(t.offsetX/e,t.offsetY/e),mouseUpHandler:t=>n.handle_mouse_up(t.offsetX/e,t.offsetY/e),mouseMoveHandler:t=>n.handle_mouse_move(t.offsetX/e,t.offsetY/e),keyDownHandler:e=>n.handle_keydown(e.key,performance.now()),keyUpHandler:e=>n.handle_keyup(e.key)}}(function(){const n=Array.from(document.querySelectorAll(".audio")).map(n=>(n.volume=n.id.startsWith("bgm")?.4:1,new Promise(e=>{if(n.readyState>3)e();else{const t=()=>{n.removeEventListener("canplaythrough",t),e()};n.addEventListener("canplaythrough",t),n.load()}}))),e=Array.from(document.querySelectorAll(".sprite")).map(n=>new Promise(e=>{if(n.complete)e();else{const t=()=>{n.removeEventListener("load",t),e()};n.addEventListener("load",t)}})),t=[].concat(n).concat(e);return Promise.all(t)})().then(()=>{const n=r.a.new("canvas",{sprite:["ruzzle_object","ruzzle_ui","ruzzle_environment","ruzzle_characters","ruzzle_background"],bgm:["bgm_0","bgm_level_selection"],sfx:["sfx_rock_fall","sfx_rock_move","sfx_dead","sfx_fanfare","sfx_projecting"]}),e=function(){const n=document.getElementById("canvas");let e=null;return t=>{e&&(n.removeEventListener("mousedown",e.mouseDownHandler),n.removeEventListener("mouseup",e.mouseUpHandler),n.removeEventListener("mousemove",e.mouseMoveHandler),window.removeEventListener("keydown",e.keyDownHandler),window.removeEventListener("keyup",e.keyUpHandler)),n.addEventListener("mousedown",t.mouseDownHandler),n.addEventListener("mouseup",t.mouseUpHandler),n.addEventListener("mousemove",t.mouseMoveHandler),window.addEventListener("keydown",t.keyDownHandler),window.addEventListener("keyup",t.keyUpHandler),e=t}}();e(o(n)),window.addEventListener("resize",()=>{e(o(n))}),n.render(),function e(){n.update(),n.render(),requestAnimationFrame(e)}()})},function(n,e,t){"use strict";(function(n,r){t.d(e,"a",function(){return k}),t.d(e,"M",function(){return E}),t.d(e,"N",function(){return L}),t.d(e,"K",function(){return x}),t.d(e,"u",function(){return H}),t.d(e,"F",function(){return A}),t.d(e,"j",function(){return j}),t.d(e,"t",function(){return T}),t.d(e,"g",function(){return z}),t.d(e,"y",function(){return O}),t.d(e,"m",function(){return D}),t.d(e,"r",function(){return M}),t.d(e,"l",function(){return P}),t.d(e,"w",function(){return S}),t.d(e,"q",function(){return I}),t.d(e,"p",function(){return U}),t.d(e,"E",function(){return $}),t.d(e,"h",function(){return C}),t.d(e,"b",function(){return q}),t.d(e,"G",function(){return F}),t.d(e,"e",function(){return J}),t.d(e,"B",function(){return B}),t.d(e,"d",function(){return N}),t.d(e,"k",function(){return R}),t.d(e,"f",function(){return X}),t.d(e,"D",function(){return Y}),t.d(e,"i",function(){return W}),t.d(e,"x",function(){return G}),t.d(e,"z",function(){return K}),t.d(e,"s",function(){return V}),t.d(e,"v",function(){return Q}),t.d(e,"c",function(){return Z}),t.d(e,"C",function(){return nn}),t.d(e,"H",function(){return en}),t.d(e,"n",function(){return tn}),t.d(e,"o",function(){return rn}),t.d(e,"J",function(){return on}),t.d(e,"L",function(){return un}),t.d(e,"A",function(){return cn}),t.d(e,"I",function(){return dn}),t.d(e,"O",function(){return sn});var o=t(5);const u=new Array(32).fill(void 0);function c(n){return u[n]}u.push(void 0,null,!0,!1);let i=u.length;function f(n){const e=c(n);return function(n){n<36||(u[n]=i,i=n)}(n),e}let d=new("undefined"==typeof TextDecoder?(0,n.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});d.decode();let s=new Uint8Array;function a(){return 0===s.byteLength&&(s=new Uint8Array(o.f.buffer)),s}function l(n,e){return d.decode(a().subarray(n,n+e))}function m(n){i===u.length&&u.push(u.length+1);const e=i;return i=u[e],u[e]=n,e}let y=0;let h=new("undefined"==typeof TextEncoder?(0,n.require)("util").TextEncoder:TextEncoder)("utf-8");const p="function"==typeof h.encodeInto?function(n,e){return h.encodeInto(n,e)}:function(n,e){const t=h.encode(n);return e.set(t),{read:n.length,written:t.length}};function w(n,e,t){if(void 0===t){const t=h.encode(n),r=e(t.length);return a().subarray(r,r+t.length).set(t),y=t.length,r}let r=n.length,o=e(r);const u=a();let c=0;for(;c<r;c++){const e=n.charCodeAt(c);if(e>127)break;u[o+c]=e}if(c!==r){0!==c&&(n=n.slice(c)),o=t(o,r,r=c+3*n.length);const e=a().subarray(o+c,o+r);c+=p(n,e).written}return y=c,o}let v=new Int32Array;function g(){return 0===v.byteLength&&(v=new Int32Array(o.f.buffer)),v}function _(n){return null==n}function b(n,e){try{return n.apply(this,e)}catch(n){o.b(m(n))}}class k{static __wrap(n){const e=Object.create(k.prototype);return e.ptr=n,e}__destroy_into_raw(){const n=this.ptr;return this.ptr=0,n}free(){const n=this.__destroy_into_raw();o.a(n)}static new(n,e){const t=w(n,o.d,o.e),r=y,u=o.l(t,r,m(e));return k.__wrap(u)}update(){o.n(this.ptr)}render(){o.m(this.ptr)}handle_mouse_down(n,e){o.i(this.ptr,n,e)}handle_mouse_up(n,e){o.k(this.ptr,n,e)}handle_mouse_move(n,e){o.j(this.ptr,n,e)}handle_keydown(n,e){const t=w(n,o.d,o.e),r=y;o.g(this.ptr,t,r,e)}handle_keyup(n){const e=w(n,o.d,o.e),t=y;o.h(this.ptr,e,t)}}function E(n){f(n)}function L(n,e){return m(l(n,e))}function x(n,e){const t=c(e),r=w(JSON.stringify(void 0===t?null:t),o.d,o.e),u=y;g()[n/4+1]=u,g()[n/4+0]=r}function H(){return m(new Error)}function A(n,e){const t=w(c(e).stack,o.d,o.e),r=y;g()[n/4+1]=r,g()[n/4+0]=t}function j(n,e){try{console.error(l(n,e))}finally{o.c(n,e)}}function T(n){let e;try{e=c(n)instanceof Window}catch{e=!1}return e}function z(n){const e=c(n).document;return _(e)?0:m(e)}function O(n){const e=c(n).performance;return _(e)?0:m(e)}function D(n,e,t){const r=c(n).getElementById(l(e,t));return _(r)?0:m(r)}function M(n){let e;try{e=c(n)instanceof HTMLCanvasElement}catch{e=!1}return e}function P(){return b(function(n,e,t){const r=c(n).getContext(l(e,t));return _(r)?0:m(r)},arguments)}function S(n){return c(n).now()}function I(n){let e;try{e=c(n)instanceof HTMLAudioElement}catch{e=!1}return e}function U(n){let e;try{e=c(n)instanceof CanvasRenderingContext2D}catch{e=!1}return e}function $(n,e){c(n).fillStyle=c(e)}function C(){return b(function(n,e,t,r,o,u,i,f,d,s){c(n).drawImage(c(e),t,r,o,u,i,f,d,s)},arguments)}function q(n){c(n).beginPath()}function F(n){c(n).stroke()}function J(n){c(n).closePath()}function B(n,e,t,r,o){c(n).rect(e,t,r,o)}function N(n,e,t,r,o){c(n).clearRect(e,t,r,o)}function R(n,e,t,r,o){c(n).fillRect(e,t,r,o)}function X(n){return c(n).currentTime}function Y(n,e){c(n).currentTime=e}function W(n){return c(n).ended}function G(){return b(function(n){c(n).pause()},arguments)}function K(){return b(function(n){return m(c(n).play())},arguments)}function V(n){let e;try{e=c(n)instanceof HTMLImageElement}catch{e=!1}return e}function Q(n,e){return m(new Function(l(n,e)))}function Z(){return b(function(n,e){return m(c(n).call(c(e)))},arguments)}function nn(){return b(function(){return m(self.self)},arguments)}function en(){return b(function(){return m(window.window)},arguments)}function tn(){return b(function(){return m(globalThis.globalThis)},arguments)}function rn(){return b(function(){return m(r.global)},arguments)}function on(n){return void 0===c(n)}function un(n){return m(c(n))}const cn="function"==typeof Math.random?Math.random:(fn="Math.random",()=>{throw new Error(`${fn} is not defined`)});var fn;function dn(n,e){const t=w(function n(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const n=e.description;return null==n?"Symbol":`Symbol(${n})`}if("function"==t){const n=e.name;return"string"==typeof n&&n.length>0?`Function(${n})`:"Function"}if(Array.isArray(e)){const t=e.length;let r="[";t>0&&(r+=n(e[0]));for(let o=1;o<t;o++)r+=", "+n(e[o]);return r+="]"}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let o;if(!(r.length>1))return toString.call(e);if("Object"==(o=r[1]))try{return"Object("+JSON.stringify(e)+")"}catch(n){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:o}(c(e)),o.d,o.e),r=y;g()[n/4+1]=r,g()[n/4+0]=t}function sn(n,e){throw new Error(l(n,e))}}).call(this,t(3)(n),t(4))},function(n,e){n.exports=function(n){if(!n.webpackPolyfill){var e=Object.create(n);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,e,t){"use strict";var r=t.w[n.i];n.exports=r;t(2);r.o()}]]);